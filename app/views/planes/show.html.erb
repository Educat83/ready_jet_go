<div class="show-image">
  <%= cl_image_tag(@plane.photo.key)%>
</div>

<div class="show-header">
  <h1><%= @plane.model %></h1>
  <a href="<%= planes_path %>" class="btn btn-info">See our other planes</a>
</div>

<div class="main-card">
  <div class="description">
    <h2>About this plane</h2>
    Introducing the epitome of sky-bound extravagance and bougie bird-brained transportation – the private jet plane! This luxurious marvel of engineering will make you feel like a posh penguin soaring through the stratosphere. Picture this: a sleek and shiny fuselage, shimmering in the sunlight like a disco ball made of diamonds, designed to leave even the most dazzling peacock green with envy.
    <br>
    <br>
    Step inside this airborne palace, and you'll find yourself in a cabin fit for a penguin prince. Plush, velvet-lined seats await, beckoning you to sink into their feathery embrace. And forget peanuts and pretzels – we're talking about gourmet cuisine served on golden platters by impeccably dressed flight attendants. They glide through the cabin like balletic flamingos, ensuring your every whim is met, from caviar cravings to bespoke bubble baths.
  </div>
  <div class="specs">
    <p class="card-header">Specification</p>
    <p>Passenger Capacity: <%= @plane.pax_capacity %></p>
    <p>Flight Range: <%= @plane.fh_range %> hours</p>
    <p>Current Location: <%= @plane.location %></p>
    <p>Flight Hour Price: £<%= @plane.fh_price %></p>
  </div>
  <div class="book-now">
    <p class="card-header">Book now!</p>
    <%= render "shared/form", booking: @booking, plane: @plane %>
  </div>
</div>


</div>
  <p><strong>Reviews</strong></p>
<ul class="list-group">
  <% @plane_reviews.each do |booking| %>
  <% unless booking.review.nil? %>
    <li class="list-group-item">
      <%= booking.review.content %>
      <%= booking.review.rating %>
    </li>
    <% end %>
  <% end %>
</ul>

<br>

<% has_user_booked = @plane_reviews.map { |x| p x.user_id} %>
<% if has_user_booked.any? { |x| x == current_user.id} %>
  <%= link_to "Add a new review", new_plane_review_path(@plane) %>
<% end %>

<br>

  <% if @plane.user == current_user %>
    <%= form_with(model: @plane, url: plane_path(@plane), method: :patch) do |form| %>
      <%= form.label :model %>
      <%= form.text_field :model %>

      <%= form.label :pax_capacity %>
      <%= form.text_area :pax_capacity %>

      <%= form.label :fh_range %>
      <%= form.text_area :fh_range %>

      <%= form.label :fh_price %>
      <%= form.text_area :fh_price %>

      <%= form.label :location %>
      <%= form.text_area :location %>

      <%= form.submit "Update Plane" %>
    <% end %>
  <% end %>

  <% if @plane.user == current_user %>
    <%= link_to "Delete",
    plane_path(@plane),
    data: {turbo_method: :delete, turbo_confirm: "Are you sure?"} %>
  <% end %>
</div>
